{% extends 'base.html' %}

{% block title %}Personel Listesi{% endblock %}

{% block extra_css %}
<!-- DataTables Bootstrap CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap4.min.css">
{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4 text-center">Personel Listesi</h2>
    <table id="employee_table" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Kullanıcı Adı</th>
                <th>E-posta</th>
                <th>Rol</th>
                <th>İşe Başlama Tarihi</th>
                <th>Yıllık İzin Günleri</th>
            </tr>
        </thead>
    </table>
</div>
{% endblock %}

{% block extra_js %}
<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<!-- DataTables Bootstrap JS -->
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap4.min.js"></script>
<script>
    $(document).ready(function() {
        $('#employee_table').DataTable({
            "processing": true,
            "serverSide": true,
            "ajax": "{% url 'employee_data' %}",
            "columns": [
                {"data": "username"},
                {"data": "email"},
                {"data": "role"},
                {"data": "hire_date"},
                {"data": "annual_leave_days"}
            ],
            "order": [[0, "asc"]],
            "pageLength": 10
        });
    });
</script>
{% endblock %}
